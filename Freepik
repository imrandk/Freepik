const maxPosts=40,posts=document.querySelectorAll("#main section div div div div img");let currentIndex=0,executionCount=0,results="";function simulateClick(t){t?.click()}function extractFileName(t){return decodeURIComponent(t.split("/").pop().split("?")[0]).replace(/(\d+)\s*-\s*(\d+)(\.\w+)$/,"$1 ($2)$3")}function shiftToNextPost(){if(executionCount>=40||!posts.length)return showModal(results);const t=posts[currentIndex]||posts[0],e=extractFileName(t.src),o=document.querySelector('textarea[data-cy="editTitle"]');t.scrollIntoView({behavior:"smooth",block:"center"}),simulateClick(t),setTimeout((()=>{const t=o?.value.trim()||"";results+=`File Name: ${e}\nTitle: ${t}\n\n`,o.value=`${e}\n${t}`,executionCount++,currentIndex++,shiftToNextPost()}),1e3)}function showModal(t){const e=document.createElement("div"),o=`<textarea readonly style="width:100%;height:150px;">${t}</textarea>\n                     <button id="copyBtn">Copy</button>\n                     <button id="cancelBtn">Cancel</button>`;e.innerHTML=`<div style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);\n                      background:white;padding:10px;width:400px;border:1px solid #ccc;">${o}</div>`,document.body.appendChild(e),document.getElementById("copyBtn").onclick=()=>{navigator.clipboard.writeText(t),alert("Text copied!"),document.body.removeChild(e)},document.getElementById("cancelBtn").onclick=()=>document.body.removeChild(e)}shiftToNextPost();
